<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Eliminar Sala</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome para íconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    .sala-info {
      background-color: #f8f9fa;
      border-radius: 5px;
      padding: 20px;
    }

    .sala-icon {
      font-size: 2rem;
      color: #6c757d;
    }
  </style>
</head>

<body>
  <div th:replace="~{fragments/navbar :: navbar}"></div>
  <div class="container mt-5">
    <h1 class="text-center text-danger">
      <i class="fas fa-door-closed"></i> Confirmar Eliminación de Sala
    </h1>

    <!-- Información de la sala -->
    <div class="sala-info mt-4" th:object="${sala}">
      <div class="row">
        <div class="col-md-2 text-center">
          <i class="fas fa-theater-masks sala-icon"></i>
        </div>
        <div class="col-md-10">
          <h3>Sala N° <span th:text="*{idSala}"></span></h3>
          <div class="row mt-3">
            <div class="col-md-4">
              <p><strong><i class="fas fa-chair"></i> Capacidad:</strong>
                <span th:text="*{cantDeButacas}"></span> butacas
              </p>
            </div>

            <div class="col-md-4">
              <p><strong><i class="fas fa-star"></i> Tipo:</strong>
                <span class="badge bg-primary"  th:text="*{tipoSala.descripcion}">
                </span>
              </p>
            </div>
          </div>
          <div class="mt-2" th:if="${not #lists.isEmpty(sala.funcionesRealizadasSala)}">
            <p class="text-danger">
              <i class="fas fa-exclamation-triangle"></i>
              Esta sala tiene <span th:text="${#lists.size(sala.funcionesRealizadasSala)}"></span>
              funciones programadas
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="alert alert-warning mt-4">
      <h4 class="alert-heading"><i class="fas fa-exclamation-circle"></i> ¡Atención!</h4>
      <p>NO SE ELIMINARÁN SALAS EN LAS QUE YA HAYA UNA FUNCIÓN ASIGNADA.</p>
      <p class="mb-0">Si la sala no tiene funciones asociadas, se eliminará permanentemente del sistema.</p>
    </div>

    <!-- Botón de confirmación -->
    <div class="d-flex justify-content-center mt-4">
      <form id="formBorrarSala" th:action="@{/cineutn/sala/eliminar/{id}(id=${sala.idSala})}" method="post">
        <input type="hidden" name="_method" value="delete">
        <input type="hidden" name="idSala" th:value="*{sala.idSala}" />
        <button type="submit" class="btn btn-danger me-2"
          th:disabled="${not #lists.isEmpty(sala.funcionesRealizadasSala)}">
          <i class="fas fa-trash-alt"></i> Confirmar Eliminación
        </button>
        <a th:href="@{/cineutn/sala/crudsalas}" class="btn btn-secondary">
          <i class="fas fa-times"></i> Cancelar
        </a>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Validación adicional con JavaScript -->

</body>

</html>